<!DOCTYPE html>
<html>
<head>
  <title>Nonprofit Revenue Model Explorer</title>
  <style>
    body { font-family: Arial; margin: 20px; }
    .slider { width: 300px; }
    .output { margin-top: 20px; }
    .positive { color: green; }
    .negative { color: red; }
    button { margin-top: 10px; padding: 5px 10px; }
    .input-box { width: 80px; margin-left: 10px; }
  </style>
  <script>
    // Password protection
    let password = prompt("Enter password to access the Nonprofit Revenue Model Explorer:");
    if (password !== "davids") {
      alert("Incorrect password. Access denied.");
      window.location = "about:blank";
    }
  </script>
</head>
<body>
  <h2>Nonprofit Revenue Model Explorer (monthly)</h2>
  <p>Note: Option 1 and 2 default to values to get same rev as current model @ -90% ad spend ROI. Option 3 optimizes for all—0% revshare at $0, hits 10% at $1k revenue (20% if full setup), scales clean from there.</p>
  <label title="Monthly Google Ad Grants spend per org">Ad Spend ($/month): <input type="range" min="0" max="10000" value="10000" id="adSpend" class="slider" oninput="update()"></label>
  <span id="adSpendValue">10000</span><br>
  <label title="Extra sales generated by ads per org">Incremental Revenue ($/month): 
    <input type="range" min="0" max="15000" value="1000" id="revenue" class="slider" oninput="updateRevenueInput()">
    <input type="number" min="0" max="15000" value="1000" id="revenueInput" class="input-box" oninput="updateRevenueSlider()">
  </label>
  <span id="revenueValue">1000</span><br>
  <label title="Fixed % of ad spend as a base fee">Groas Base Fee (%): <input type="range" min="0" max="5" step="0.1" value="2" id="baseFee" class="slider" oninput="update()"></label>
  <span id="baseFeeValue">2</span><br>
  <label title="% of incremental revenue shared">Revenue Share (%): <input type="range" min="0" max="50" value="0" id="revShare" class="slider" oninput="update()"></label>
  <span id="revShareValue">0</span><br>
  <label title="Your % of total fees collected">Your Split (%): <input type="range" min="0" max="100" value="50" id="yourSplit" class="slider" oninput="update()"></label>
  <span id="yourSplitValue">50</span><br>
  <label title="Number of nonprofits in the model">Number of Orgs: <input type="range" min="1" max="200" value="1" id="numOrgs" class="slider" oninput="update()"></label>
  <span id="numOrgsValue">1</span><br>

  <button onclick="setOption1()">Option 1: Pure Revenue-Share</button>
  <button onclick="setOption2()">Option 2: Revenue-Share + Min Fee</button>
  <button onclick="setOption3()">Option 3: Optimized Equilibrium</button>
  <button onclick="reset()">Reset to Defaults</button>

  <div style="margin-top: 20px; max-width: 600px;">
    <p><b>how option 3 works (optimized equilibrium):</b></p>
    <p>nonprofits get zero risk—cost never tops their ad-driven revenue ($0 revenue = $100 cost from us). groas gets a 1% ad spend minimum ($100/org), covered by david a fronting up to $100/org for the first 3 orgs if revenue’s low. beyond 3 orgs, we split any shortfall 50/50 (e.g., $0 revenue = $50 each hit). revenue share starts at 0% at $0, ramps linearly to 10% at $1k revenue (or 20% if full setup), then caps—e.g., $632 revenue = $200 total ($100 each) at 25%, $707 = $200 at 20%, $1k = $200 at 10%. keeps it fair—nonprofits win, groas grows, and i scale. tweak the sliders to test!</p>
  </div>

  <div class="output">
    <p>Nonprofit Cost (Total): $<span id="nonprofitCost">200</span></p>
    <p>Groas Fee: $<span id="groasFee">100</span></p>
    <p>David A Fee: $<span id="yourFee">100</span></p>
    <p>Nonprofit Net Gain: $<span id="netGain">800</span></p>
    <p>Orgs Needed for $20k: <span id="orgsNeeded">200</span></p>
  </div>

  <div style="margin-top: 20px; max-width: 600px;">
    <p><b>nonprofit pitch preview:</b></p>
    <p>turn your free $10k/month google ad grant into revenue—zero risk, all upside. we optimize your ads with AI to drive sales, registrations, whatever you’ve got. no upfront cost—our cut comes from new revenue, starting at 0% at $0, hitting 10% at $1k revenue (20% if we build your adwords from scratch). e.g., $707 revenue = $141 cut ($70 each), you keep $566; $2k revenue = $500 ($250 each) at 20%, you keep $1.5k. we front the risk (up to $100/org for first 3)—you cash in.</p>
  </div>

<script>
  function update() {
    let adSpend = parseFloat(document.getElementById("adSpend").value);
    let revenue = parseFloat(document.getElementById("revenue").value);
    let baseFee = parseFloat(document.getElementById("baseFee").value);
    let revShare = parseFloat(document.getElementById("revShare").value);
    let yourSplit = parseFloat(document.getElementById("yourSplit").value);
    let numOrgs = parseFloat(document.getElementById("numOrgs").value);

    document.getElementById("adSpendValue").innerText = adSpend;
    document.getElementById("revenueValue").innerText = revenue;
    document.getElementById("baseFeeValue").innerText = baseFee;
    document.getElementById("revShareValue").innerText = revShare;
    document.getElementById("yourSplitValue").innerText = yourSplit;
    document.getElementById("numOrgsValue").innerText = numOrgs;

    let nonprofitCostPerOrg;
    // New stepped logic from 0 to $1000 for all caps
    let baseCost = adSpend * (baseFee / 100);
    let threshold = 0; // Start at $0
    let maxRevShare = revShare; // Slider cap
    let stepRange = 1000; // 0 to $1000 range
    let dynamicP = revenue <= threshold ? 0 : 
                   revenue <= stepRange ? maxRevShare * (revenue / stepRange) :
                   maxRevShare;
    let revShareCost = (dynamicP / 100) * revenue;
    nonprofitCostPerOrg = baseCost + revShareCost;

    let totalCost = nonprofitCostPerOrg * numOrgs;
    let groasFeePerOrg = nonprofitCostPerOrg * ((100 - yourSplit) / 100);
    let yourFeePerOrg = nonprofitCostPerOrg * (yourSplit / 100);
    let groasFee = groasFeePerOrg * numOrgs;
    let yourFee = yourFeePerOrg * numOrgs;
    let netGain = (revenue * numOrgs) - totalCost;

    // Risk adjustment
    if (numOrgs <= 3 && groasFeePerOrg < 100) {
      let shortfallPerOrg = Math.min(100 - groasFeePerOrg, 100);
      groasFee = 100 * numOrgs;
      yourFee -= shortfallPerOrg * numOrgs;
      totalCost = groasFee + yourFee;
      netGain = (revenue * numOrgs) - totalCost;
    } else if (numOrgs > 3 && groasFeePerOrg < 100) {
      let shortfallPerOrg = (100 - groasFeePerOrg) / 2;
      groasFee += shortfallPerOrg * numOrgs;
      yourFee -= shortfallPerOrg * numOrgs;
      totalCost = groasFee + yourFee;
      netGain = (revenue * numOrgs) - totalCost;
    }

    document.getElementById("nonprofitCost").innerText = Math.round(totalCost);
    document.getElementById("groasFee").innerText = Math.round(groasFee);
    document.getElementById("yourFee").innerText = Math.round(yourFee);
    document.getElementById("netGain").innerText = Math.round(netGain);
    document.getElementById("netGain").className = netGain >= 0 ? "positive" : "negative";
    document.getElementById("orgsNeeded").innerText = yourFeePerOrg > 0 ? Math.ceil(20000 / yourFeePerOrg) : "N/A";
  }

  function updateRevenueInput() {
    let revenue = parseFloat(document.getElementById("revenue").value);
    document.getElementById("revenueInput").value = revenue;
    update();
  }

  function updateRevenueSlider() {
    let revenueInput = parseFloat(document.getElementById("revenueInput").value);
    if (revenueInput >= 0 && revenueInput <= 15000) {
      document.getElementById("revenue").value = revenueInput;
    } else if (revenueInput < 0) {
      document.getElementById("revenue").value = 0;
      document.getElementById("revenueInput").value = 0;
    } else {
      document.getElementById("revenue").value = 15000;
      document.getElementById("revenueInput").value = 15000;
    }
    update();
  }

  function setOption1() {
    document.getElementById("adSpend").value = 10000;
    document.getElementById("baseFee").value = 0;
    document.getElementById("revShare").value = 20;
    document.getElementById("yourSplit").value = 50;
    document.getElementById("numOrgs").value = 1;
    update();
  }

  function setOption2() {
    document.getElementById("adSpend").value = 10000;
    document.getElementById("baseFee").value = 0.5;
    document.getElementById("revShare").value = 15;
    document.getElementById("yourSplit").value = 50;
    document.getElementById("numOrgs").value = 1;
    update();
  }

  function setOption3() {
    document.getElementById("adSpend").value = 10000;
    document.getElementById("baseFee").value = 1;
    document.getElementById("revShare").value = 10; // Base case, tweak to 20 for full setup
    document.getElementById("yourSplit").value = 50;
    document.getElementById("numOrgs").value = 1;
    update();
  }

  function reset() {
    document.getElementById("adSpend").value = 10000;
    document.getElementById("revenue").value = 1000;
    document.getElementById("revenueInput").value = 1000;
    document.getElementById("baseFee").value = 2;
    document.getElementById("revShare").value = 0;
    document.getElementById("yourSplit").value = 50;
    document.getElementById("numOrgs").value = 1;
    update();
  }

  window.onload = update;
</script>
</body>
</html>
